@if (isMaintenance()) {
  <!-- PAGE DE MAINTENANCE -->
  <div class="maintenance-screen">
    <div class="maintenance-card">
      <span class="icon">⚽</span>
      <h1>Team Balancer</h1>
      <div class="divider"></div>
      <p>Le vestiaire est actuellement fermé pour travaux.</p>
      <p class="subtitle">On prépare la nouvelle version des équipes. Revenez très bientôt !</p>
      <div class="status-badge">Statut : Amélioration en cours</div>
    </div>
  </div>
} @else {
  <div class="container">
  <header>
    <h1>⚽ Team Balancer</h1>
    <p>Créez des équipes équilibrées par poste et par niveau.</p>
  </header>

<section class="card">
  <h2>Ajouter un joueur</h2>
  <div class="form-group-multi">
    <input [(ngModel)]="newPlayerName" placeholder="Nom du joueur">
    
    <div class="checkbox-group">
      @for (pos of availablePositions; track pos) {
        <label>
          <input type="checkbox" [(ngModel)]="selectedPositions[pos]"> {{pos}}
        </label>
      }
    </div>

    <button (click)="addPlayer()" [disabled]="!newPlayerName">Ajouter</button>
  </div>
</section>

<section class="card">
  <h2>Joueurs présents ({{ playersPresent().length }})</h2>
  <div class="player-grid">
    @for (p of allPlayers(); track p.id) {
      <div class="player-tag" [class.active]="p.estPresent" (click)="togglePresence(p)">
        <span class="player-name">{{ p.nom }}</span>
        <span class="player-pos">{{ p.positions.join(' / ') }}</span>
      </div>
    }
  </div>
  
  <button class="btn-generate" (click)="makeTeams()" [disabled]="playersPresent().length < 2">
    GÉNÉRER LES ÉQUIPES
  </button>
</section>

@if (teams().team1.length > 0) {
  <div class="teams-container">
    <div class="team-card team-a">
      <h3>Équipe A ({{teams().team1.length}} joueurs)</h3>
      <ul>
        @for (p of teams().team1; track p.id) {
          <li><strong>{{ p.positions[0] }} :</strong> {{ p.nom }}</li>
        }
      </ul>
    </div>
    <div class="team-card team-b">
      <h3>Équipe B ({{teams().team2.length}} joueurs)</h3>
      <ul>
        @for (p of teams().team2; track p.id) {
          <li><strong>{{ p.positions[0] }} :</strong> {{ p.nom }}</li>
        }
      </ul>
    </div>
  </div>
}
</div>
}
